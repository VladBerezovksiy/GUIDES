# POISED API test strategy

* P - Parameters
* O - Output
* I - Interop
* S - Security
* E - Error handling
* D - Data

1. Parameters. Переборка позитивных и негативных значений для параметров API (строковые, числовые, даты и т.д.) 
   Демонстрация различных кейсов с правильными и не правильными значениями параметров.
2. Output. Тестирование результатов выполнения запроса. Должны соответствовать логике запроса. Проверка кода состояния,
   причины и тела.
    1. Как вы знаете результатом выполнения Http запроса является код состояния, описание состояния, тело, заголовки. 
       Например, если мы удаляем сущность с DELETE, то логичным результатом будет сообщение об успехе (200 ОК), но не 
       (201 Created).
    2. Например, работа с заголовками, заголовок Accept application/xml, сообщает серверу какой тип данных клиент может 
       понимать. (GET запрос получит тело в xml формате, если нет это может быть ошибка сервиса или недоработка клиента)
3. Interop. Взаимодействие. API – это интерфейс для взаимодействия программ между собой, и у разных программ разные 
   кодировки, форматы и т. д.
    1. Для проверки возможных проблем взаимодействия можно проверить параметры даты на различные форматы. (В разных 
       стеках, локалях формат даты может отличаться. Из-за чего могут появлятся баги). Этот кейс – результат 
       недоработанной архитектуры. Хороший подход при разработке программ, которые взаимодействуют с другими программами
       использовать целочисленное представление даты известное как (timestamp).
    2. Случай и пункта 2.2 подходит по категорию теста на взаимодействие.
4. Security. Проверка на защищенность.
    1. Запрещенные запросы без токена, с неправильным токеном, с токеном, с истекшим сроком давности.
    2. Кросс-Скрипт: "<button onclick=\"myFunction()\">Try it</button><script>function myFunction(){alert(\"Hello\nHow are you?\");}</script>"
5. Error handling. Service API никогда не должна полагаться, на то что клиент пришлёт корректные параметры, поэтому 
   валидация входящих параметров должна работать правильно. 
    1. Проверка обязательных полей
    2. Проверка на присутсвие не нужных полей
    3. Проверка обязательных значений с NULL
6. Data. Важная часть тестирования – проверка механизмов обработки данных (хранения, изменения, обновления, удаления).
    1. Например, если мы создаем сущность, то критерием успешности должен быть запрос в БД, что он действительно создан 
       и сохранен в базе данных (можно проверить по ID)
    2. Цена указывается без указания единиц оплаты, $,  рубли или евро? Это важный аспект даже для таких стран как наша,
       где цены привязываются к долларовому эквиваленту.
    3. Еще один обязательный аспект для проверки данных – масштабируемость. Нужно уточнить и проверить на сколько 
       пользователей и записей рассчитана база, и сколько она в действительности выдерживает.